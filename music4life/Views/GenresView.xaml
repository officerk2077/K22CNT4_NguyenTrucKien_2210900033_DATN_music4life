<UserControl x:Class="music4life.Views.GenresView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.Resources>
        <Style x:Key="GenreCardStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}">
                            <ContentPresenter/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Margin="0,0,0,20">

            <TextBlock Text="Genres" FontSize="32" FontWeight="Bold" Foreground="White" Margin="15,10,0,20"/>

            <ItemsControl ItemsSource="{Binding GenreList}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Style="{StaticResource GenreCardStyle}" 
                                Margin="15,0,20,30" 
                                Width="160"
                                Command="{Binding DataContext.OpenGenreCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                CommandParameter="{Binding Name}">

                            <StackPanel>
                                <Border Width="160" Height="160" CornerRadius="8">
                                    <Border.Effect>
                                        <DropShadowEffect BlurRadius="10" Opacity="0.3" ShadowDepth="4"/>
                                    </Border.Effect>

                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#333" Offset="0.0"/>
                                            <GradientStop Color="#444" Offset="1.0"/>
                                        </LinearGradientBrush>
                                    </Border.Background>

                                    <Path Data="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.58,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.45 21.77,11.94 21.41,11.58Z" 
                                          Fill="#666" Stretch="Uniform" Width="60" Height="60"
                                          HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>

                                <TextBlock Text="{Binding Name}" 
                                           Foreground="White" FontWeight="Bold" FontSize="15" 
                                           Margin="0,10,0,4" TextTrimming="CharacterEllipsis" 
                                           ToolTip="{Binding Name}"/>

                                <TextBlock Text="{Binding SongCountText}" 
                                           Foreground="#B3B3B3" FontSize="13" 
                                           TextTrimming="CharacterEllipsis"/>
                            </StackPanel>
                        </Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
    </ScrollViewer>
</UserControl>